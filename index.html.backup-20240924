<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mechanic Saint Augustine</title>
</head>
<body>
  <h1>Mobile Mechanic Service</h1>
  <p>Call us: <a href="tel:9042175152">904-217-5152</a></p>

  <h2>Get a Price Quote</h2>
  <form id="quoteForm">
    <label>First Name: <input name="firstName"></label><br>
    <label>Last Name: <input name="lastName"></label><br>
    <label>Address: <input name="address"></label><br>
    <label>Type of Car: <input name="carType"></label><br>
    <label>Year: <input name="year"></label><br>
    <label>Make: <input name="make"></label><br>
    <label>Model: <input name="model"></label><br>
    <label>Engine Size: <input name="engineSize"></label><br>
    <label>Special Notes: <input name="notes"></label><br>
    <label>Repair Needed: <input name="repair" id="repairInput"></label><br>
    <button type="submit">Get Quote</button>
  </form>
  <div id="quoteResult"></div>

  <script>
    document.getElementById('quoteForm').onsubmit = async function(e) {
      e.preventDefault();
      const repair = document.getElementById('repairInput').value.trim();
      let catalog = [];
      try {
        const res = await fetch('price-catalog.json');
        catalog = await res.json();
      } catch {
        document.getElementById('quoteResult').innerText = 'Could not load price catalog.';
        return;
      }
      const item = catalog.find(x => x.repair.toLowerCase() === repair.toLowerCase());
      if (item) {
        document.getElementById('quoteResult').innerText = `Estimated price: $${item.price} (Time: ${item.time} hr)`;
      } else {
        document.getElementById('quoteResult').innerText = 'Repair not found. Please call for a quote.';
      }
    };
  </script>

  <hr>
  <h2>Shop Management (CRM)</h2>
  <p><em>Rukoviditel CRM integration coming soon.</em></p>
  <form id="crmForm">
    <label>Customer Name: <input name="customerName"></label><br>
    <label>Service Details: <input name="serviceDetails"></label><br>
    <button type="button" onclick="alert('CRM integration feature coming soon!')">Save to CRM</button>
  </form>

  <hr>
  <h2>Call Recording & Transcription</h2>
  <p><em>Automatic call recording and transcription will be added here.</em></p>
  <form id="callForm">
    <label>Phone Number: <input name="phone" value="904-217-5152" readonly></label><br>
    <button type="button" onclick="alert('Call recording feature coming soon!')">Start Recording</button>
  </form>

  <hr>
  <h2>Price Quote Calculator</h2>
  <p><em>Automatic price calculation based on repair catalog will be added here.</em></p>
</body>
</html>
